## 域内路由和域间路由
自治系统：，一个自治系统(AS)是一个有权自主地决定在本系统中应采用何种路由协议的小型单位单一技术管理下的一组路由器
1. 内部网关协议(IGP)
例如 RIP 和 OSPF
2. 外部网关协议(EGP)
例如 BGP

### RIP路由协议 (路由信息协议)
基于距离向量的路由选择协议
是应用层协议，使用UDP传送数据(端口520)
特点：
1. 仅和相邻路由交换信息
2. 路由器交换的信息是本路由器所知道的全部信息
3. 固定时间间隔交换路由信息
4. 路径一定是最少跳数的路径
缺点：
1. RIP限制网络规模，能使用的最大距离为15
2. 网络规模越大，开销越大
3. 网络出现故障，回出现慢收敛现象。即坏消息传的慢

### OSPF路由协议 （开放最短路径优先协议）
网络层协议  
使用Dijkstra算法
不使用UDP数据报传送数据，直接使用IP数据报传输
每个路由存储的不是完整的路径，而是只存储“下一跳”
特点：
1. 使用泛洪法向所有路由发送信息
2. 发送的信息是与本路由器相邻的所有路由器的链路状态
3. 只有当链路状态发生改变时，路由器才用泛洪法向所有路由器发送信息
4. 直接使用IP数据报传送
5. 可以对不同服务类型设置不同的代价
6. 可以实现链路的负载均衡
7. 支持可变长的子网划分和无分类编制CIDR
8. 带一个32位的序号，序号越大越新
五种分组类型
1. 问候分组
2. 数据库描述分组
3. 链路状态请求分组
4. 链路状态更新分组
5. 链路状态确认分组

### BGP协议 （边界网关协议）
目的：力求寻找一条能够达到目的网络且比较好的路由，而不是寻找最佳路由
采用路径向量路由选择协议
BGP是应用层协议，基于TCP
原理：
1. 每个自治系统的管理员至少选择一个路由器作为BGP发言人。
2. BGP发言人和其他自治系统的BGP发言人建立TCP连接。
3. 在此连接上建立BGP会话，利用BGP会话交换路由信息。
4. 当所有BGP发言人都相互交换网络可达性信息后，各BGP发言人就可以找到可达的较好的路由
特点：
1. 交换路由信息的节点数量级是自治系统的数量级。使自治系统之间的路由选择不至于过分复杂
2. BGP路由表包括目的网络前缀、下一跳路由和到达目的网络锁需要经过的自治系统的序列。也支持CIDR
3. 第一次运行时交换的是整个BGP路由表，之后交换的是发生变化的部分
四种报文：
1. 打开报文
2. 更新报文
3. 保活报文
4. 通知报文
