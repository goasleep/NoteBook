## CPU组成

### 运算器

功能：接受来自控制器宋老的命令并执行相应的动作。

包含

- ALU 算术逻辑单元
- 暂存寄存器
- ACC 累加寄存器
- 通用寄存器组
- PSW 程序状态寄存器组
- 移位器
- 计数器

### 控制器

功能：执行指令，每条指令的执行都是由控制器发出的一组微操作实现的。

工作原理：根据指令操作码、指令的执行步骤（微命令的序列）和条件信号来形成当前计算机各部件要用到的控制信号。

包含

- PC 程序计数器
- IR 指令寄存器
- 指令译码器
- MAR 存储地址寄存器
- MDR 存储数据寄存器
- 时序系统
- 微操作信号发生器

控制器分为硬布线控制器和微程序控制器

硬布线控制器：由复杂的组合逻辑门电路和触发器构成

原理：根据指令的要求、当时的时序和内外部的状态情况，按时间的顺序发送一系列的微操作控制信号

微程序控制器

思想：将每一条机器指令编写成一个微程序

一个微程序包含若干跳微指令（微操作 = 微命令 < 微指令 < 微程序 < 机器指令 ）

若有n种机器指令，则微程序数至少是n+2个（增加一个为公共取值的微程序，一个为对应终端周期的微程序）

微指令的组成：控制寄存器（CM）、微指令寄存器（CMAR）、微地址形成部件、微地址寄存器（CMDR）

工作过程：

1. 将微程序的入口地址送到CMAR，并从CM中读取相应的微指令送到CMDR
2. 机器指令的操作码字段通过微地址形成部件产生微程序的入口地址，送到CMAR
3. 从CM中读取对应的微指令并执行
4. 执行完一条机器指令的微程序后又回到微程序的入口地址，继续执行第一步

微指令的编码方式

1. 直接编码控制
2. 字段直接编码方式
3. 字段间接编码方式

微指令的格式

1. 水平型
2. 垂直型
3. 混合型

### 指令周期

 指令周期：执行一条指令所需要的全部时间

一个指令周期包含多个机器周期，一个机器周期包含多个时钟周期

取值周期：根据PC的内容从主存中取出指令代码并存放在IR中

间址周期：取操作数的有效地址存放在MDR中

执行周期：根据IRde指令操作码和操作数通过ALU操作产生执行结果。

中断周期：处理中断请求



