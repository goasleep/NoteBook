[TOC]

### 重构查询的方法

####  1. 切分查询

使用分而治之的思想。将大的查询切分成小的查询。

如果使用一个大的语句删除大量数据。很可能一次性锁住很多数据，占满整个事务日志，耗尽系统资源，阻塞很多小而重要的查询。如果将其切分成多个小的查询，可以尽可能小地影响服务器，减少锁的持有时间。

#### 2. 分解关联查询

分解关联的查询的好处：

1. 提高缓存效率
2. 减少表锁的竞争
3. 可以将表放在不同的服务器上，更好地扩展数据库
4. 提高本身的查询效率
5. 可以减少冗余行的查询
6. 这样相当于在应用中实现了哈希关联，而不是嵌套循环关联

### 附录

[复杂单表查询和多表关联查询](https://www.zhihu.com/question/68258877)

#### 

